"use strict";angular.module("decapApp").directive("buildChart",["DecapService",function(DecapService){return{templateUrl:"scripts/directives/dashboard/buildChart/buildChart.html",restrict:"E",replace:!0,scope:{model:"="},controller:function($scope){$scope.bar={series:["Builds","Branches"],labels:[],data:[[],[]]},DecapService.getBuildStatistics().then(function(stats){for(var i in stats)$scope.bar.labels.push(stats[i].project),$scope.bar.data[0][i]=stats[i].buildsCount,$scope.bar.data[1][i]=stats[i].branchesCount},function(message){console.log("error getting buildChart->buildStats: "+message)})}}}]);